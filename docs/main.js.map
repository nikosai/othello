{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/client/canvas.ts","webpack:///./src/client/main.ts","webpack:///./src/server/board.ts","webpack:///./src/util.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/client/main.ts\");\n","import { Board } from \"../server/board\";\nimport { Util, Box, Vec2, State } from \"../util\";\nimport M from \"materialize-css\";\n\nexport class BoardCanvas{\n  line_width: number = 0.005;\n  square_size: Box;\n  elem: HTMLCanvasElement;\n  cxt: CanvasRenderingContext2D;\n  board: Board;\n  mouse_at: Vec2|null = null;\n  constructor(element: HTMLCanvasElement,board:Board) {\n    this.elem = element;\n    this.cxt = Util.checkIsDefined(element.getContext('2d'));\n    this.board = board;\n    this.square_size = new Box(\n      (1 - this.line_width * (this.board.width + 1)) / this.board.width,\n      (1 - this.line_width * (this.board.height + 1)) / this.board.height\n    );\n    const listenerMaker = (f:(x:number,y:number)=>void) => (e:MouseEvent) => {\n      const rect = this.elem.getBoundingClientRect();\n      const x = e.clientX - Math.floor(rect.left);\n      const y = e.clientY - Math.floor(rect.top);\n      const i = Math.floor(x / this.elem.width * window.devicePixelRatio * this.board.width);\n      const j = Math.floor(y / this.elem.height * window.devicePixelRatio * this.board.height);\n      f(i, j);\n    }\n\n    document.addEventListener('click', listenerMaker((x,y)=>this.onClick(x,y)));\n    document.addEventListener('mousemove', listenerMaker((x,y)=>this.onMouseMove(x,y)));\n  }\n\n  drawBoard() {\n    const redOverlay = 'rgba(255,0,0,0.3)';\n    const grayOverlay = 'rgba(0,0,0,0.2)';\n    \n    let res: Vec2[] = [];\n    if (this.mouse_at) {\n      res = this.board.check(this.mouse_at.x, this.mouse_at.y);\n    }\n\n    for (let y = 0; y < this.board.height; y++) {\n      for (let x = 0; x < this.board.width; x++) {\n        this.fillSquare('green', x, y);\n        const st = this.board.get(x, y);\n        if (st !== State.Empty) {\n          this.drawStone(\n            (st === State.Black ? 'black' : 'white'),\n            'black',\n            0.003,\n            0.8,\n            x, y);\n        }\n\n        if (this.mouse_at) {\n          if (this.mouse_at.equals(x, y)) {\n            if (this.board.get(x, y) === State.Empty) {\n              this.drawStone(\n                (this.board.curState === State.Black ? 'rgba(0,0,0,0.3)' : 'rgba(255,255,255,0.3)'),\n                'rgba(0,0,0,0.3)',\n                0.003,\n                0.65,\n                x, y);\n            }\n            this.fillSquare((res.length > 0 ? redOverlay : grayOverlay), x, y);\n          } else if (Vec2.in(res,x,y)) {\n            this.fillSquare(redOverlay, x, y);\n          }\n        }\n      }\n    }\n  }\n\n  fillSquare(fillStyle: string | CanvasGradient | CanvasPattern, x: number, y: number) {\n    const left = this.line_width + (this.square_size.width + this.line_width) * x;\n    const top = this.line_width + (this.square_size.height + this.line_width) * y;\n    this.fillRectPercent(fillStyle, left, top, this.square_size.width, this.square_size.height);\n  }\n\n  drawStone(fillStyle: string | CanvasGradient | CanvasPattern, strokeStyle: string | CanvasGradient | CanvasPattern, lineWidth: number, scale: number, x: number, y: number) {\n    this.drawEllipseAtPercent(\n      fillStyle,\n      strokeStyle,\n      lineWidth * (this.elem.height + this.elem.width) / 2,\n      (2*x+1)/(2*this.board.width),\n      (2*y+1)/(2*this.board.height),\n      this.square_size.width * scale,\n      this.square_size.height * scale\n    );\n  }\n\n  onClick(x: number, y: number) {\n    if (x >= 0 && x < this.board.width && y >= 0 && y < this.board.height) {\n      const board = this.board.put(x, y);\n      if (board) this.board = board;\n    }\n  }\n\n  onMouseMove(x: number, y: number) {\n    if (x < 0 || x >= this.board.width || y < 0 || y >= this.board.height) {\n      this.mouse_at = null;\n    } else {\n      this.mouse_at = new Vec2(x, y);\n    }\n  }\n\n  fillRectPercent(fillStyle: string | CanvasGradient | CanvasPattern, x: number, y: number, w: number, h: number) {\n    const t = this.cxt.fillStyle;\n    this.cxt.fillStyle = fillStyle;\n    this.cxt.fillRect(\n      this.elem.width * x,\n      this.elem.height * y,\n      this.elem.width * w,\n      this.elem.height * h);\n    // if (fillStyle === 'rgba(255,0,0,0.5)') {\n    //   console.log(t,this.cxt.fillStyle,\n    //     this.elem.width * x,\n    //     this.elem.height * y,\n    //     this.elem.width * w,\n    //     this.elem.height * h)\n    // }\n    this.cxt.fillStyle = t;\n  }\n\n  drawEllipseAtPercent(fillStyle: string | CanvasGradient | CanvasPattern, strokeStyle: string | CanvasGradient | CanvasPattern, lineWidth: number, cx: number, cy: number, width: number, height: number) {\n    const f = this.cxt.fillStyle;\n    const s = this.cxt.strokeStyle;\n    const l = this.cxt.lineWidth;\n    this.cxt.fillStyle = fillStyle;\n    this.cxt.strokeStyle = strokeStyle;\n    this.cxt.lineWidth = lineWidth;\n    this.drawEllipseAt(\n      cx * this.elem.width,\n      cy * this.elem.height,\n      width * this.elem.width,\n      height * this.elem.height\n    );\n    this.cxt.fillStyle = f;\n    this.cxt.strokeStyle = s;\n    this.cxt.lineWidth = l;\n  }\n\n  drawEllipseAt(cx: number, cy: number, width: number, height: number){\n    const PI2 = Math.PI * 2;\n    const ratio = height / width;\n    const radius = width / 2;\n    const increment = 1 / radius;\n\n    this.cxt.beginPath();\n    let x = cx + radius * Math.cos(0);\n    let y = cy - ratio * radius * Math.sin(0);\n    this.cxt.lineTo(x, y);\n\n    for (let radians = increment; radians < PI2; radians += increment) {\n      x = cx + radius * Math.cos(radians);\n      y = cy - ratio * radius * Math.sin(radians);\n      this.cxt.lineTo(x, y);\n    }\n\n    this.cxt.closePath();\n    this.cxt.fill();\n    this.cxt.stroke();\n  }\n}\n","import { Util } from \"../util\";\nimport { Board } from \"../server/board\";\nimport { BoardCanvas } from \"./canvas\";\n// import io from \"socket.io-client\";\ndeclare let io: SocketIOClientStatic;\n\nconst FRAMERATE = 60;\nconst BOARD_WIDTH = 8;\nconst BOARD_HEIGHT = 8;\n\nconst canvas = <HTMLCanvasElement>document.getElementById(\"canvas\");\nUtil.assertIsDefined(canvas);\n\nlet board = new Board(BOARD_WIDTH, BOARD_HEIGHT);\nlet boardCanvas = new BoardCanvas(canvas, board);\n\nsetInterval(() => {\n  const canvasWrapper = document.getElementById(\"canvas-wrapper\");\n  Util.assertIsDefined(canvasWrapper);\n\n  // resize\n  canvas.width = canvasWrapper.clientWidth * window.devicePixelRatio;\n  canvas.height = canvasWrapper.clientHeight * window.devicePixelRatio;\n\n  // update\n  boardCanvas.drawBoard();\n}, 1000 / FRAMERATE);\n\nconsole.log(io);\nconst socket = io.connect();\n\nsocket.on(\"connect\", () => {\n  console.log(\"connect\");\n})\n\nconsole.log(socket);\nsocket.send(\"test\");\n","import { Vec2, State, Util, Candidate } from \"../util\";\n\n// 盤面\nexport class Board {\n  readonly rawboard: RawBoard;\n  readonly width: number;\n  readonly height: number;\n  readonly curState: State; // 次の手番\n\n  constructor(w: number, h: number, rawboard?: RawBoard, curState?: State) {\n    this.width = w;\n    this.height = h;\n    this.rawboard = rawboard ?? RawBoard.init(w, h);\n    this.curState = curState ?? State.Black;\n  }\n  put(x: number, y: number):Board|null {\n    const res = this.check(x, y);\n    if (res.length === 0) return null;\n    return new Board(this.width, this.height,\n      this.rawboard.put(x, y, res, this.curState),\n      Util.reverse(this.curState)\n    );\n  }\n  get(x: number, y: number) {\n    return this.rawboard.get(x, y);\n  }\n  // for debug\n  print() {\n    this.rawboard.print();\n  }\n  getCandidates(): Candidate[]{\n    let ret:Candidate[] = [];\n    for (let x = 0; x < this.width; x++){\n      for (let y = 0; y < this.height; y++){\n        let res = this.check(x, y);\n        if (res.length > 0) ret.push(new Candidate(new Vec2(x,y),res));\n      }\n    }\n    return ret;\n  }\n  check(x: number, y: number): Vec2[] {\n    if (this.get(x, y) !== State.Empty) return [];\n    let ret: Vec2[] = [];\n    for (let dy = -1; dy <= 1; dy++) {\n      for (let dx = -1; dx <= 1; dx++) {\n        if (dx === 0 && dy === 0) continue;\n        const res = this.checkSub(x, y, dx, dy);\n        if (res === null) continue;\n        ret.push(...res);\n      }\n    }\n    return ret;\n  }\n  checkSub(x: number, y: number, dx: number, dy: number): Vec2[] | null {\n    const x1 = x + dx;\n    const y1 = y + dy;\n    const s1 = this.get(x1, y1);\n    if (s1 === State.Empty) return null;\n    if (this.curState === s1) return [];\n    let ret = this.checkSub(x1, y1, dx, dy);\n    if (ret === null) return null;\n    ret.push(new Vec2(x1, y1));\n    return ret;\n  }\n}\n\nclass RawBoard {\n  readonly width: number;\n  readonly height: number;\n  private sqs: State[][]; // 本来の幅・高さより2広い\n  private constructor(w: number, h: number, sqs?:State[][]) {\n    this.width = w;\n    this.height = h;\n    this.sqs = [];\n    for (let i = 0; i < w + 2; i++) {\n      this.sqs[i] = [];\n      for (let j = 0; j < h + 2; j++) {\n        this.sqs[i][j] = (sqs ? sqs[i][j] : State.Empty);\n      }\n    }\n  }\n  private set(x: number, y: number, s: State) {\n    this.sqs[x + 1][y + 1] = s;\n  }\n  get(x: number, y: number) {\n    return this.sqs[x + 1][y + 1];\n  }\n  static init(w: number, h: number) {\n    let board = new RawBoard(w, h);\n    board.set(3, 3, State.White);\n    board.set(4, 4, State.White);\n    board.set(3, 4, State.Black);\n    board.set(4, 3, State.Black);\n    return board;\n  }\n  copy() {\n    return new RawBoard(this.width, this.height, this.sqs);\n  }\n  private flip(x: number, y: number) {\n    this.set(x, y, Util.reverse(this.get(x, y)));\n  }\n  private flipMulti(arr: Vec2[]):RawBoard {\n    let board = this.copy();\n    for (let a of arr) {\n      board.flip(a.x, a.y);\n    }\n    return board;\n  }\n  put(x:number, y:number, res: Vec2[], state:State) {\n    let board = this.flipMulti(res);\n    board.set(x, y, state);\n    return board;\n  }\n  print() {\n    let str = \"\";\n    for (let i = 0; i < this.sqs.length; i++) {\n      const s = this.sqs[i];\n      for (let j = 0; j < s.length; j++) {\n        // const f = (s: State) => {\n        //   switch (s) {\n        //     case State.Black: return \"B\";\n        //     case State.White: return \"W\";\n        //     case State.Empty: return \" \";\n        //   }\n        // }\n        // str += f(s[j]);\n        str += s[j];\n      }\n      str += '\\n';\n    }\n    console.log(str);\n  }\n}\n","export class Util{\n  static assertIsDefined<T>(val: T): asserts val is NonNullable<T> {\n    if (val === undefined || val === null) {\n      throw new Error(\n        `Expected 'val' to be defined, but received ${val}`\n      );\n    }\n  }\n  static checkIsDefined<T>(val:T):NonNullable<T> {\n    Util.assertIsDefined(val);\n    return val;\n  }\n  static reverse(s: State) {\n    switch (s) {\n      case State.Black: return State.White;\n      case State.White: return State.Black;\n      case State.Empty: return State.Empty;\n    }\n  }\n  static log(str: string) {\n    const now = new Date();\n    const pad = (n: number) => (\"0\" + n.toString(10)).slice(-2);\n    const m = now.getMonth() + 1;\n    const d = now.getDate();\n    const h = now.getHours();\n    const min = now.getMinutes();\n    const s = now.getSeconds();\n    console.log(`[${pad(m)}/${pad(d)} ${pad(h)}:${pad(min)}:${pad(s)}] ${str}`);\n  }\n}\n\nexport class Box {\n  width: number;\n  height: number;\n  constructor(w: number, h: number) {\n    this.width = w;\n    this.height = h;\n  }\n}\n\nexport class Vec2 {\n  x: number;\n  y: number;\n  constructor(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n  }\n  equals(x: number, y: number) {\n    return this.x === x && this.y === y;\n  }\n  static in(arr: Vec2[], x: number, y: number) {\n    for (let a of arr) {\n      if (a.equals(x, y)) return true;\n    }\n    return false;\n  }\n}\n\n// マスの状態\nexport enum State {\n  Black, // 黒コマ\n  White, // 白コマ\n  Empty, // なし\n}\n\nexport class Candidate{\n  point: Vec2;\n  flip: Vec2[];\n\n  constructor(point:Vec2, flip:Vec2[]) {\n    this.point = point;\n    this.flip = flip;\n  }\n}\n"],"sourceRoot":""}